var fc_tips={};fc_tips.fix_markers_position=!1,fc_tips.default_left=45,fc_tips.default_width=380,fc_tips.no_element_tips=[],$(function(){if(fc.isMobileVersion)return void $(".fc-user-actions li.tips").remove();setTimeout(function(){fc_tips.initUserTips()},2e3),$(window).resize(function(){clearTimeout(fc_tips.fix_markers_position),fc_tips.fix_markers_position=setTimeout(function(){fc_tips.move_tips_after_resize(fc.user_tips),fc_tips.close_opened_tips(),$(".user_tip_box").css("left",fc_tips.default_left).css("width",fc_tips.default_width)},100)}),$(".show_tips_group").click(function(){return fc_tips.enable_tips_group($(this).data("group")),!1})}),fc_tips.initUserTips=function(){fc_tips.prepare_user_tips(fc.user_tips),$(document).on("click",".user_tip_marker",function(a){fc_tips.handle_click($(this))}),$(document).on("click",".close_tip, .got_it_link",function(a){return fc_tips.disable_tip($(this).parents(".user_tip_block, .news_line")),!1}),$(document).on("click",".got_group_link",function(a){return fc_tips.disable_tips_group($(this).parents(".user_tip_block").data("group")),!1}),$(".user_tip_block:not('.tip_template') .user_tip_marker").first().click()},fc_tips.create_not_created_tips=function(){var a=fc_tips.no_element_tips;fc_tips.no_element_tips=[];for(var b=$(),c=0;c<a.length;c++){var d=fc_tips.create_tip(fc.user_tips[a[c]]);d&&(b=b.add(d))}return b},fc_tips.destroy_invisible=function(){fc_tips.move_tips_after_resize(fc.user_tips)},fc_tips.prepare_user_tips=function(a){if(a)for(var b in a)fc_tips.create_tip(a[b])},fc_tips.create_tip=function(a){var b=$(".tip_template");if(!b.length)return!1;var c=$(a.selector);if(!c.length||!c.is(":visible"))return fc_tips.no_element_tips[fc_tips.no_element_tips.length]=a.id,!1;var d=fc_tips.get_tip_position(a,c),e=b.clone();return e.find(".main_text").html(a.descr),e.find(".header_text").text(a.title),e.removeClass("tip_template").css(d).attr("id","tip_"+a.id).data("tipid",a.id).data("unique_name",a.unique_name).attr("data-group",a.tips_group).show(),intval(a.f_news)&&e.find(".got_group_link").remove(),$("body").append(e),e},fc_tips.get_tip_position=function(a,b){var c=b.offset();return{left:c.left+parseInt(a.leftpx)+4,top:c.top+parseInt(a.toppx)+14}},fc_tips.move_tips_after_resize=function(a){if(a)for(var b in a)fc_tips.set_tip_position(a[b])},fc_tips.set_tip_position=function(a){var b=$("#tip_"+a.id);if(b.length){var c=$(a.selector);if(!c.length||!c.is(":visible"))return b.remove(),void(fc_tips.no_element_tips[fc_tips.no_element_tips.length]=a.id);var d=fc_tips.get_tip_position(a,c);b.css(d)}},fc_tips.handle_click=function(a){var b=a.parents(".user_tip_block"),c=b.data("tipid"),d=b.find(".user_tip_box");if(a.hasClass("opened"))return void fc_tips.fade_out_tip_text(c);var e=a.offset();if(e.top=e.top-11,e.left=e.left+a.width()+20,$(window).width()-e.left-fc_tips.default_width<0)if(e.left=e.left-fc_tips.default_width-a.width()-80,e.left>=0)d.addClass("right").css("left","auto");else{d.addClass("mobile");var g=$(window).width(),h=.96*g,i=-a.offset().left+(g-h)/2;d.css("left",i).css("width",h)}fc_tips.close_opened_tips(),a.addClass("opened"),fc_tips.show_tip_text(d)},fc_tips.close_opened_tips=function(){$(".user_tip_marker.opened").parents(".user_tip_block").each(function(){fc_tips.fade_out_tip_text($(this).data("tipid"))})},fc_tips.show_tip_text=function(a){a.fadeIn()},fc_tips.fade_out_tip_text=function(a){$("#tip_"+a).find(".user_tip_box").fadeOut(function(){$(this).removeClass("mobile right")}),$("#tip_"+a).find(".user_tip_marker").removeClass("opened")},fc_tips.remove_tip=function(a){setTimeout(function(){a.fadeOut(300+300*Math.random(),function(){$(this).remove()}),setTimeout(function(){$(".user_tip_block:not('.tip_template') .user_tip_marker").first().click()},600)},400*Math.random())},fc_tips.remove_tips_group=function(a){$(".user_tip_block[data-group='"+a+"']").each(function(){fc_tips.remove_tip($(this))})},fc_tips.disable_tips_group=function(a){fc_tips.remove_tips_group(a),ajaxRequest(base_url+"tips/hide/"+a)},fc_tips.disable_tip=function(a){var b=a.data("group"),c=a.data("tipid");fc_tips.remove_tip(a),ajaxRequest(base_url+"tips/hide/"+b+"/"+c)},fc_tips.enable_tips_group=function(a){ajaxRequest(base_url+"tips/show/"+a,{},function(b){b.data.tips&&(fc_tips.remove_tips_group(a),fc.toggleUserMenu(!0),setTimeout(function(){fc.user_tips=b.data.tips,fc_tips.prepare_user_tips(b.data.tips)},500))})};